{% extends "website/base.html" %}
{% load static %}

{% block title %}Ciclopinhal - A sua loja de bicicletas{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'website/css/homepage.css' %}">
{% endblock %}

{% block content %}

<!-- Hero section -->
<section class="hero-section full-width">
    <img src="{% static 'website/images/hero-ciclista.jpg' %}" alt="Ciclista em ação" class="hero-bg">
    <div class="hero-overlay">
        <div class="hero-content">
            <span class="badge">Shimano Service Center</span>
            <h1>Bicicleta: um modo de vida</h1>
            <p>Descobre o mundo das bicicletas com qualidade, paixão e confiança.</p>
            <p>A tua loja especializada em bicicletas no Pinhal Novo.</p>
            <div class="hero-buttons">
                <!-- Corrected: URL now points to updated product list view -->
                <a href="{% url 'product_list' %}" class="btn btn-primary">Ver produtos</a>
                <a href="#contactos" class="btn btn-secondary">Contactar-nos</a>
            </div>
        </div>
    </div>
</section>

<!-- Partners section -->
<section class="parceiros-section full-width">
    <div class="layout-container">
        <ul class="parceiros-list">
            {% for partner in partners %}
                <li><img src="{{ partner.image.url }}" alt="Marca {{ partner.name }}"></li>
            {% endfor %}
        </ul>
    </div>
</section>

<!-- Featured products section -->
<section class="destaques-section full-width">
    <div class="layout-container">
        <ul class="grid-3">
            {% for highlight in highlights %}
                <li class="card-produto">
                    <div class="card-inner">
                        <img src="{{ highlight.product.image.url }}" alt="{{ highlight.product.name }}">
                        <div class="card-content">
                            <h3>{{ highlight.product.name }}</h3>
                            <p class="preco">{{ highlight.product.price }} €</p>
                            <!-- Link to product detail via slug -->
                            <a href="{{ highlight.product.get_absolute_url }}" class="btn btn-card">Ver mais</a>
                        </div>
                    </div>
                </li>
            {% endfor %}
        </ul>
    </div>
</section>

<!-- Services section -->
<section class="servicos-section full-width" id="servicos">
    <div class="layout-container">
        <h2 class="section-header">Os nossos serviços</h2>
        <span class="badge">Shimano Service Center</span>
        <div class="servicos-grid">
            <div class="servico-item">
                <img src="{% static 'website/images/servico_reparacao.jpg' %}" alt="Reparação de bicicletas">
                <div class="servico-texto">
                    <h3>Reparação</h3>
                    <p>Diagnóstico preciso = soluções rápidas.</p>
                </div>
            </div>
            <div class="servico-item">
                <img src="{% static 'website/images/servico_manutencao.jpg' %}" alt="Manutenção de bicicletas">
                <div class="servico-texto">
                    <h3>Manutenção</h3>
                    <p>Manutenção regular para prolongar a vida útil da sua bicicleta.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact section -->
<section class="contactos-section" id="contactos">
    <div class="contactos-card">
        <div class="contactos-content">
            <div class="contactos-info">
                <h2 class="section-header">Contactos</h2>
                <p><strong>Morada:</strong> Rua das Bicicletas, 2900-000 Pinhal Novo</p>
                <p><strong>Email:</strong> <a href="mailto:geral@ciclopinhal.pt">geral@ciclopinhal.pt</a></p>
                <p><strong>Telefone:</strong> <a href="tel:+351912345678">912 345 678</a></p>
            </div>
            <div class="contactos-mapa">
                <iframe 
                    src="https://www.google.com/maps/embed?pb=..."
                    allowfullscreen 
                    loading="lazy">
                </iframe>
            </div>
        </div>
    </div>
</section>

{% endblock %}